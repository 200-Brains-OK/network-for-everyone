# 학습 목표

- 프로토콜을 이해하기
- OSI 모델 이해하기
- TCP/IP 모델 이해하기
- 캡슐화, 역캡슐화 이해하기

# 06 네트워크의 규칙

## 01 프로토콜이란?

- 네트워크에서 문제없이 통신하려면 **규칙**을 지켜야함
    - **프로토콜: 통신하기 위한 규칙**
- 각 규칙간에는 서로 영향을 주지 않는다는 특징이 있음(규칙은 독립적)
- 통신하기까지 여러 규칙을 거치게됨

# 07  OSI 모델과 TCP/IP 모델

## 01 OSI 모델이란?

- 다른 컴퓨터도 통신할 수 있도록 표준 규격이 필요함
    - ISO가 OSI 모델이라는 표준 규격 제정
- OSI 모델: 네트워크 기술의 기본이 되는 모델
    - 컴퓨터 ↔ 컴퓨터 사시 데이터를 주고 받는 과정을 7개 계층(=레이어)으로 나눔
    - 물리(1)-데이터링크-네트워크-전송-세션-표현-응용(7) 계층

### OSI 모델 각 계층의 역할

- 1계층: 물리 계층
    - 시스템 간의 물리적인 연결과 전기 신호를 변환 및 제어함
- 2계층: 데이터 링크 계층
    - 네트워크 기기 간의 데이터 전송 및 물리 주소를 결정함
- 3계층: 네트워크 계층
    - 다른 네트워크와 통신 하기 위한 경로 설정 및 논리 주소를 결정
- 4계층: 전송 계층
    - 신뢰할 수 있는 통신을 구현
- 5계층: 세션 계층
    - 세션 체결, 통신 방식을 결정
- 6계층: 표현 계층
    - 문자 코드, 압축, 암호화 등의 데이터를 변환
- 7계층: 응용 계층
    - 이메일 & 파일 전송, 웹 사이트 조회 등 애플리케이션에 대한 서비스 제공

### 데이터 송수신 과정

![image.png](attachment:54e05582-42da-4116-a208-1a29e3fbcd77:image.png)

- 데이터를 전송하는 쪽은 데이터를 보내기 위해 **상위 → 하위 계층**으로 데이터를 전달함
- 데이터를 받는 쪽은 **하위 → 상위 계층**으로 각 계층을 통해 전달된 데이터를 받음
- **각 계층은 독립적이므로 데이터가 전달되는 동안에 다른 계층의 영향을 받지 않음**

## 02 TCP/IP 모델이란?

- 7계층을 **4계층으로 바꾼 모델**(인터넷 모델이라고도 함)
- 네트워크 접속(1)-인터넷-전송-응용(4) 계층

| OSI 모델 | TCP/IP 모델 |
| --- | --- |
| 응용 | 응용 |
| 표현 | - |
| 세션 | - |
| 전송 | 전송 |
| 네트워크 | 인터넷 |
| 데이터 링크 | 네트워크 접속 |
| 물리 | - |

# 08 캡슐화와 역캡슐화

- 데이터를 송수신할 때 캡슐화와 역캡슐화가 이루어진다
- 헤더: **데이터 앞 부분**에 전송하는데 필요한 정보를 붙인 것
    - 데이터를 전달받을 **상대방에 대한 정보가 포함됨**
    - 데이터의 내용이나 성격을 식별, 제어하는데 사용함
- 캡슐화: 헤더를 붙여 나가는 것
    - 상위 계층의 통신 프로토콜 정보를 데이터에 추가하여 하위 계층에 전송하는 기술
- 역캡슐화: 데이터를 받는 쪽에서 헤더를 하나씩 제거하는 것
    - 상위 계층의 통신 프로토콜에서 하위 계층에서 추가한 정보와 데이터를 분리하는 기술
- 송신 측 컴퓨터에서 웹사이트에 접속하려고 함
    - 캡슐화
        1. **응용**: 요청 데이터가 만들어짐
        2. 응용 → **전송**으로 전달됨(헤더+데이터)
        3. 전송 → **네트워크**(헤더+헤더+데이터)
        4. 네트워크 → **데이터 링크**(헤더+헤더+헤더+데이터+트레일러)
            1. 네트워크 계층에서 만들어진 데이터에 물리적인 통신 채널을 연결하기 위해 **헤더와 트레일러를 붙이는 것**
            
            cf) 트레일러: 데이터를 전달할 때 데이터의 마지막에 추가하는 정보
            
        5. 데이터 링크 → 전기신호로 변환 → 수신측에 도착
    - 역캡슐화: 헤더를 제거해서 역캡슐화를 시키는 것
        1. 데이터 링크 → **네트워크**(~~헤더~~+헤더+헤더+데이터+~~트레일러~~)
        2. 네트워크 → **전송**(~~헤더~~+헤더+데이터)
        3. 전송 → **응용**(~~헤더~~+데이터)
            1. **응용측에 모든 헤더가 제거된 데이터가 도착하는 것**
    - 송신 측의 데이터링크 계층에서 만들어진 데이터가 전기 신호로 변환되어 수신 측에 전송됨
    
    ### VPN
    
    - Virtual Private Network, 가상 사설망
    - 가상 통신 터널을 만들어 기업 본사나 지사와 같은 거점 간을 연결하여 통신하거나 외부에서 인터넷으로 사내에 접속하는 것
    - 서울(본사)-부산(지사) 사이에 통신하려면 물리적 거리가 멀어 LAN으로는 통신이 어려움
        
        → VPN을 이용
        
    - VPN의 종류
        1. 인터넷 VPN(둘 다 일반 인터넷망을 사용)
            - 거점 간 접속: IPsec이라는 암호 기술 프로토콜을 사용하여 접속함
            - 원격 접속 연결: 외부에서 사용하는 컴퓨터와 사내 네트워크를 연결하기 때문에 암호화된 통신로를 만듦
        2. IP-VPN
            - MPLS라는 기술을 사용하여 인터넷망이 아닌 통신 사업자 전용 폐쇄망을 사용함
            - MPLS 장점: 폐쇄망을 사용하기 때문에 제삼자에 의한 해킹이나 데이터 변조의 위험이 없어 암호화 기능이 필요하지 않음