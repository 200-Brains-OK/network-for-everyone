# 04장 데이터 링크 계층

## 데이터 링크 계층의 역할과 이더넷

> 데이터 링크 계층에서는 네트워크 장비간에 신호를 주고받는 규칙을 정한다
> 

### 이더넷

랜에서 데이터를 정상적으로 주고받기 위한 규칙, 가장 보편적이다

허브와 같은 장비에 연결된 컴퓨터와 데이터를 주고 받을때 사용한다

데이터를 전달할 때는 목적지에 대한 정보를 더해서 보내기 때문에  목적지 이외의 포트에서 데이터를 받더라도 무시하게 되어있음

> 데이터 충돌
> 
> 
> 허브는 송신하는 포트외의 모든 포트에 데이터를 전송하게 되는데
> 
> 여러 컴퓨터에서 동시에 데이터를 보내면 데이터들끼리 충돌이 일어날수 있다
> 

### CSMA/CD (Carrier Sense Multiple Access with Collision Detection)

반송파 감지 다중 접속 및 충돌 참지의 약어로 이더넷에서 시점을 늦춰 데이터 충돌을 막는 방법이다

효율이 좋지 않다는 이유로 지금은 거의 사용하지 않는다

- cs 데이터를 보내려고 할때, 케이블에 신호가 흐르고 있는지 아닌지를 확인한다
- ma 데이터가 흐르고 있지 않다면 데이터를 보내도 좋다
- cd 충돌이 발생하고 있는지 확인한다

## 13. MAC 주소의 구조

### 맥주소란?

랜 카드가 제조될때 새겨지는 물리주소로, 전 세계에서 유일한 번호로 할당되어있다

총 48비트 숫자로 구성되어 있으며 앞쪽 24비트는 **제조사번호** 뒤쪽 24비트는 제조사가 붙인 **일련번호**이다

### 맥주소를 사용한 통신

데이터-링크 / 네트워크 계층에서 캡슐화를 할때 **이더넷 헤더**와 트레일러를 붙인다

[](https://github.com/user-attachments/assets/2b6fe763-027d-4cb6-a715-8d4b652fbd49)

**이더넷 헤더**

목적지 맥주소(2바이트) | 출발지 맥주소(2바이트) | 유형(2바이트)

총 14 바이트가 붙는다

> 이더넷 유형 - 이더넷으로 전송되는 상위 계층 프로토콜의 종류를 나타냄
> 

**트레일러**

FCS(Frame Check Sequence) 라고도 하며, 데이터 전송 도중에 오류가 발생하는지 확인하는 용도이다

> 이처럼 헤더와 트레일러가 추가된 데이터를 프레임이라고 한다
> 

## 14. 스위치의 구조

**스위치** - 허브의 대안, 요새는 허브 안 쓰고 스위치만 씀

### 스위치와 허브의 가장 큰 차이점
- 데이터 송수신을 할 때, 수신 목적지인 포트에만 전송함
- 이를 위해 **포트 | 맥주소** 형태의 맥 주소 테이블이 있음
- 테이블에 아무 데이터가 없을 때 첫 송신이 일어나면 일단 모든 포트에 데이터를 전송해서 목적지 포트를 찾아냄 → **MAC주소 학습 기능**
- 찾아내면 테이블에 데이터 저장
- 이를 **플러딩**이라고 함

## 15. 데이터가 케이블에서 충돌하지 않는 구조

### 전이중 통신
- 데이터의 송수신을 동시에 통신하는 방식
- 데이터 충돌이 일어나지 않음

### 반이중 통신
- 회선 하나로 송신과 수신을 번갈아가면서 통신하는 방식
- 데이터 충돌이 일어남

- 컴퓨터 간에 직접 LAN으로 연결하는 경우는 전이중 통신으로 충돌이 일어나지 않음
- 허브는 반이중 통신으로 연결하기 때문에 데이터 충돌이 일어남
- 스위치는 전이중 통신 방식으로 데이터를 주고받음

### 충돌 도메인
- 충돌이 일어날 수 있는 범위를 **충돌 도메인**이라고 함
- 허브는 컴퓨터 전체가 하나의 충돌 도메인
- 스위치는 포트 하나가 충돌 도메인

## 16. 이더넷 종류와 특징
### 이더넷 규격

10      BASE        t
통신속도 전송방식 케이블
![이더넷](https://github.com/user-attachments/assets/d8535cd4-3166-4f12-88c5-0681bfe43ae0)

