# 7장 응용 계층: 애플리케이션에 데이터 전송하기

## 28. 응용계층의 역할

응용계층이란 애플리케이션이 동작하는 계층이다.

- **클라이언트**: 서비스를 요청하는 측 (ex. 웹 브라우저, 메일 프로그램 ..)
- **서버**: 서비스를 제공하는 측 (ex. 웹 서버 프로그램, 메일 서버 프로그램 ..)

### 응용계층의 프로토콜

| 프로토콜 | 내용 |
| --- | --- |
| HTTP | 웹 사이트 접속 |
| DNS | 이름 해석 |
| FTP | 파일 전송 |
| SMTP | 메일 송신 |
| POP3 | 메일 수신 |

**DNS (Domain Name System)** - 컴퓨터나 네트워크 장비에 붙여진 이름을 기반으로 IP 주소를 알아내는 것

## 29. 웹 서버의 구조 (웹 사이트 접속)

**www**(World Wide Web)  
W3나 웹이라고도 부른다.  
HTML, URL, HTTP의 세 가지 기술을 사용한다.

- **HTML**: 하이퍼텍스트를 작성하는 마크업 언어

### 웹사이트 접속

접속한 웹 사이트 서버에 HTML 파일, 해당 파일에 포함된 다른 파일들을 요청하면, 서버가 페이지에 맞는 파일들을 보내준다.

### HTTP

- 클라이언트는 웹 서버에 80번 포트를 사용하여 HTTP 통신을 한다.
- GET, POST, DELETE 등의 요청을 보내고, 서버에서는 받은 요청에 맞는 HTTP 응답을 보낸다.

#### HTTP 버전

- **HTTP/1.0**: 매 요청마다 연결하고 끊는 작업을 반복했다.
- **HTTP/1.1**: keepalive 기능을 통해 한번 연결을 수립한 후 모든 데이터 교환이 끝나면 연결을 끊는다.
- **HTTP/2.0**: 요청 순서대로가 아닌 작업이 빠른 순으로 응답을 반환한다. 콘텐츠를 빠르게 표시할 수 있다.

## 30. DNS 서버의 구조 (이름 해석)

**DNS** - 이름 해석을 통해 도메인 이름, 즉 URL을 IP 주소로 변환하는 역할을 한다.  
숫자로 이루어진 IP 주소를 `[www.yeji.net](http://www.yeji.net)`과 같은 도메인 주소로 간단하게 사용할 수 있도록 돕는다.

- **도메인 이름**: 컴퓨터나 네트워크를 식별하기 위해 붙여진 이름
- **호스트 이름**: www

도메인 주소를 사용할 때는 먼저 DNS 서버에 이름 해석을 부탁해 IP 주소를 얻어낸 후 주소로의 접속이 이루어진다.

- DNS 서버는 전 세계에 여러 대가 흩어져 있고 계층적으로 모두 연결되어 있다.  
따라서 첫 번째 도착한 DNS에서 찾지 못할 수 있고, 찾을 때까지 계속 다른 DNS 서버에 요청을 보내게 된다.

## 31. 메일 서버의 구조 (SMTP와 POP3)

### 메일의 송수신 구조

- **SMTP** (포트번호 25번): 메일을 보내는 데 사용되는 프로토콜
- **POP3** (포트번호 110번): 메일을 받는 데 사용되는 프로토콜

1. SMTP를 사용하여 컴퓨터 1에서 메일 서버 1로 메일을 보낸다.
2. SMTP를 사용하여 메일 서버 1에서 메일 서버 2로 메일을 보낸다.
3. POP3를 사용하여 메일 서버 2에서 컴퓨터 2로 메일 데이터를 보낸다.

- 메일 서버를 사용하려면 메일 프로그램에 메일 서버의 호스트 이름(서버 이름)을 설정하면 된다.

### SMTP에 의한 메일 송신과 메일 전송

**Simple Mail Transfer Protocol**  

컴퓨터 1과 메일 서버 1 간의 통신 과정

1. 세션 시작을 통지한다.
2. 송신자의 메일 주소를 통지한다.
3. 목적지 메일 주소를 통지한다.
4. 메일 본문 전송을 통지한다.
5. 메일 본문을 송신한다.
6. 세션 종료를 통지한다.

이렇게 메일 서버 1로 전달된 메일은 다시 SMTP를 사용하여 메일 서버 2로 전달된다.

### POP3에 의한 메일 수신

**Post Office Protocol v.3**

메일 서버에는 메일박스라고 하는 메일을 보관해주는 기능이 있다.  
메일 박스에 저장된 메일을 POP3를 사용하여 컴퓨터 2로 전송한다.

수신하는 측에서는 사용자 이름과 비밀번호를 이용한 사용자 인증이 필요하다.

1. 세션 시작을 통지한다.
2. 수신자의 사용자 이름을 통지한다.
3. 수신자의 비밀번호를 통지한다.
4. 메일을 확인한다.
5. 메일의 전송을 요청한다.
6. 세션 종료를 통지한다.

### ping 명령

목적지 컴퓨터와의 통신을 확인하는 명령어다.  
ICMP 프로토콜을 사용하여 ICMP 패킷을 전송하고 응답이 제대로 오는지 확인하는 명령어이다.
