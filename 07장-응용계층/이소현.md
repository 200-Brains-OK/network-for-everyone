# 학습 목표

- 응용 계층의 역할 이해하기
- 웹 서버의 구조 이해하기
- DNS의 이름 해석 구조 이해하기
- 메일의 송수신 구조 이해하기

# 28 응용 계층의 역할

## 01 응용 계층의 역할

- 애플리케이션은 사용자가 하고 싶은 일을 할 수 있도록 도와줌
    - ex) 메일에 메일 프로그램, 웹페이지를 볼 때 웹 브라우저 사용
- 애플리케이션은 서비스를 요청하는 측에서 사용하는 애플리케이션으로 분류할 수 있음
- 서비스: 네트워크나 애플리케이션이 제공하는 기능이나 동작, 정보
- 클라이언트: 서비스를 요청하는 측
- 서버: 서비스를 제공하는 측
- **애플리케이션은 응용 계층에서 동작**
- 응용 계층: 5계층 세션 계층과 6계층 표현 계층을 포함하는 것
- 응용 계층의 역할: 클라이언트의 요청을 전달하기 위해 서버가 이해할 수 있는 데이터로 변환하고 전송 계층으로 전달함
    - 각각의 애플리케이션에 대응되는 데이터를 전송하는 역할
- 클라이언트 측 애플레케이션이 서버 측 애플리케이션과 통신하려면 응용 계층의 프로토콜을 사용해야함
- 주요 응용 계층 프로토콜
    
    
    | 프로토콜 | 내용 |
    | --- | --- |
    | HTTP | 웹사이트 접속 |
    | DNS | 이름 해석 |
    | FTP | 파일 전송 |
    | SMTP | 메일 송신 |
    | POP3 | 메일 수신 |
- 이름 해석: 네트워크에서 컴퓨터나 네트워크 장비에 붙여진 이름을 기반으로 IP 주소를 알아내는 것 → 이를 위해 DNS를 사용

### 응용 계층에서 보내는 데이터 처리 순서

- 전송 → 네트워크 → 데이터 링크 → 물리 계층

![image.png](attachment:5438a14b-b336-46ed-b414-3f89d014d5e9:image.png)

# 29 웹 서버의 구조(웹 사이트 접속)

- 웹페이지에 접속하는 구조

## 01 WWW란?

- world wide web
- HTML,URL,HTTP 기술이 사용됨
    - HTML: hypertext markup language
        - 마크업 언어: 문장의 일부를 태그로 감싸고 문장을 꾸미기 위한 형식
        - 제목이나 목록과 같은 문장 구조를 지정하거나 이미지 파일을 보여줄 때 태그 사용
        - 하이퍼텍스트: 문자와 이미지를 표시하거나 하이퍼링크를 사용
            - 하이퍼링크(=링크): 웹사이트에서 아이콘이나 버튼에 있는 링크를 클릭해서 이동
        - html 파일: 웹에서 문서를 작성할 때 사용되는 마크업 언어인 HTML로 작성된 파일
    - URL: uniform resource locator

## 02 HTTP란?

- 클라이언트가 웹사이트를 보려면?
    - 서버의 80번 포트를 사용하여 HTTP 통신을 함
    - 클라이언트가 HTTP request를 보내고 서버가 HTTP response를 반환

### HTTP/1.0버전

- 요청을 보낼 때마다 연결했다 끊는 작업을 반복함

### HTTP/1.1버전

- keepalive 기능 추가 → 매번 연결 수립과 끊기를 하지 않아도됨
    - keepalive: 연결을 한 번 수립하면 데이터 교환을 마칠 때까지 유지하고, 데이터 교환을 모두 끝내면 연결을 끊음
    - **keepalive는 요청을 순서대로 처리함**
        - 문제: 이전 요청을 처리하는데 시간이 길어지면 다음 요청에 대한 처리가 늦어짐
    
    ![image.png](attachment:79bfe06a-e023-4900-864e-7d0b267e70c5:image.png)
    

### HTTP/2버전

- HTTP/1.1버전의 문제를 보완한 것
- HTTP/2 버전은 요청을 보낸 순서대로 응답을 반환하지 않아도됨 → 콘텐츠를 빠르게 표시할 수 있음
    
    ![image.png](attachment:c0fc41d4-67dd-40b1-89a2-6d3ab1a4d661:image.png)
    
    - 1,2,3 순서로 요청을 보냈는데 2,3,1 순서로 응답

# 30 DNS 서버의 구조(이름 해석)

- DNS: 이름 해석을 통해 도메인 이름을 IP 주소로 변환하는 역할

## 01 도메인 이름이란?

### 컴퓨터(서버)에 접속하려면 IP주소를 입력해야하는데 왜 URL을 입력해도 웹사이트가 보이는걸까?

- DNS가 URL을 IP주소로 변환해주는 서비스(시스템)이기 때문
- 이름 해석: URL에 접속하면 DNS 서버가 이 웹사이트 서버의 IP주소를 알려주는 것
    - DNS 서버: DNS 서비스가 동작하는 컴퓨터(서버)
- ex) www.naver.com
    - [naver.com](http://www.naver.com) → 도메인 이름: 컴퓨터나 네트워크를 식별하기 위해 붙여진 이름
    - www → 호스트 이름

### 도메인 이름에 해당하는 IP주소를 알 수 있는 방법?

1. 웹 브라우저에 URL을 입력하여 접속
2. 컴퓨터 → DNS 서버로 www.naver.com의 IP주소를 알려달라고 요청
3. DNS → 컴퓨터로 URL의 IP주소를 알려줌
4. 컴퓨터 → 웹서버에 IP 주소로 접속

### 요청한 첫번째 DNS 서버가 도메인의 IP주소를 모른다면?

- DNS 서버1이 DNS 서버 2에게 요청함
- DNS 서버는 전세계에 흩어져있고 모두 계층적으로 연결되어있음

# 31 메일 서버의 구조(SMTP와 POP3)

## 01 메일의 송수신 구조

- 메일을 송수신하려면 클라이언트 측의 메일 프로그램과 서버 측의 메일 프로그램 간 통신을 해야함
- 사용하는 프로토콜
    - SMTP: 메일 보내는데 사용, 포트번호 25번
        - 메일 서버 간 메일 전송에도 이용
    - POP3: 메일 받는데 사용, 포트번호 110번
- 예시: 컴퓨터 1 → 컴퓨터 2로 메일을 보내는 예시
    1. SMTP를 사용해서 컴퓨터1에서 메일 서버1로 메일을 보냄
    2. SMTP를 사용하여 메일 서버1 → 메일 서버2로 메일 전송
    3. POP3를 사용하여 메일 서버2 → 컴퓨터2로 메일 데이터 보냄
- 메일 서버를 사용하는 방법
    - 컴퓨터 1에서 사용하는 메일 프로그램에 메일 서비스를 제공하는 메일 서버의 호스트 이름을 설정하면 됨

## 02 SMTP에 의한 메일 송신과 메일 전송

- 컴퓨터 1과 메일 서버 1간의 통신
    - 컴퓨터 1의 메일 프로그램은 SMTP를 사용하여 메일 서버 1로 메일을 보냄
- 컴퓨터와 메일 서버 간 일어나는 메일 교환
    1. 세션 시작을 통지
    2. 송신자의 메일 주소를 통지
    3. 목적지 메일주소를 통지
    4. 메일 본문 전송을 통지
    5. 메일 본문 송신
    6. 세션 종료를 통지
- 메일 서버 간에 일어나는 메일 교환
    1. 컴퓨터 1 → 메일 서버1 메일을 보냄(SMTP)
    2. 메일 서버 1 → 메일 서버2 메일을 전송(SMTP)
    3. 메일 서버2 → 컴퓨터 2 메일을 가져옴(POP3)

## 03 POP3에 의한 메일 수신

- 메일 박스: 메일 서버에 있는 메일을 보관해주는 기능
- 메일 서버2는 POP3를 사용하여 메일 서버 2의 메일 박스에서 메일을 가져와서 컴퓨터 2로 전송함
    
    ![image.png](attachment:b82efcad-9789-4c04-b88f-a08cefb135f7:image.png)
    
- 메일이 도착하면 메일 서버2의 메일 박스에 있는 메일을 받아가면됨
- 메일 수신 시 사용자 인증이 필요

### 메일 서버2와 컴퓨터 2간에 일어나는 메일 교환

1. 세션을 시작
2. 컴퓨터 2에서 받는 사람의 사용자 이름을 통지하고 메일 서버 2에 OK라는 확인 응답을 반환
3. 컴퓨터 2에서 수신자의 비밀번호를 통지하고 메일 서버 2에 비밀번호 확인이라는 확인 응답 반환
4. 컴퓨터 2에서 자신의 메일이 있는지 확인하고 메일 서버 2는 있음이라는 응답을 반환
5. 컴퓨터 2에서 메일 박스에 보관된 이메일을 전송 받음
6. 세션 종료

### ping 명령어

- 목적지 컴퓨터와 통신을 확인하기 위해 ping 명령어 사용
- ICMP 프로토콜을 사용하여 목적지 컴퓨터에 ICMP 패킷을 전송하고 패킷에 대한 응답이 제대로 오는지 확인
- ping 명령이 정상 실행되면?
    - 네트워크 연결이 정상이라고 판단가능